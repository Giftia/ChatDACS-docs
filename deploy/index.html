<!DOCTYPE html>
<html lang="zh-Hans">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>部署说明 | 星野夜蝶 使用文档</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/static/favicon.ico">
    <meta name="description" content="一个简单的机器人框架，支持接入哔哩哔哩直播，具备完全功能的web端控制台。">
    
    <link rel="preload" href="/assets/css/0.styles.6a1f76d8.css" as="style"><link rel="preload" href="/assets/js/app.2dfdd553.js" as="script"><link rel="preload" href="/assets/js/2.20dc188e.js" as="script"><link rel="preload" href="/assets/js/11.e3b9eb81.js" as="script"><link rel="preload" href="/assets/js/3.1a8f7b58.js" as="script"><link rel="prefetch" href="/assets/js/10.17f682ff.js"><link rel="prefetch" href="/assets/js/12.d762acf8.js"><link rel="prefetch" href="/assets/js/13.05b01d29.js"><link rel="prefetch" href="/assets/js/14.879a0956.js"><link rel="prefetch" href="/assets/js/15.21c258d9.js"><link rel="prefetch" href="/assets/js/16.154d278f.js"><link rel="prefetch" href="/assets/js/17.40f5aa9b.js"><link rel="prefetch" href="/assets/js/4.be7e55f8.js"><link rel="prefetch" href="/assets/js/5.f0be3e66.js"><link rel="prefetch" href="/assets/js/6.937da696.js"><link rel="prefetch" href="/assets/js/7.4098c9e2.js"><link rel="prefetch" href="/assets/js/8.e762ecaa.js"><link rel="prefetch" href="/assets/js/9.f234346a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6a1f76d8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/static/favicon.ico" alt="星野夜蝶 使用文档" class="logo"> <span class="site-name can-hide">星野夜蝶 使用文档</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/guide/" class="nav-link">
  使用说明
</a></div><div class="nav-item"><a href="/deploy/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  部署说明
</a></div><div class="nav-item"><a href="/bilibili/" class="nav-link">
  哔哩哔哩接入
</a></div><div class="nav-item"><a href="/qqGuild/" class="nav-link">
  QQ频道机器人接入
</a></div><div class="nav-item"><a href="/telegram/" class="nav-link">
  Telegram机器人接入
</a></div><div class="nav-item"><a href="/plugins/" class="nav-link">
  插件开发指北
</a></div><div class="nav-item"><a href="/thanks/" class="nav-link">
  特别感谢
</a></div><div class="nav-item"><a href="https://github.com/users/Giftia/projects/1" target="_blank" rel="noopener noreferrer" class="nav-link external">
  开发计划看板
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/Giftia/ChatDACS" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/guide/" class="nav-link">
  使用说明
</a></div><div class="nav-item"><a href="/deploy/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  部署说明
</a></div><div class="nav-item"><a href="/bilibili/" class="nav-link">
  哔哩哔哩接入
</a></div><div class="nav-item"><a href="/qqGuild/" class="nav-link">
  QQ频道机器人接入
</a></div><div class="nav-item"><a href="/telegram/" class="nav-link">
  Telegram机器人接入
</a></div><div class="nav-item"><a href="/plugins/" class="nav-link">
  插件开发指北
</a></div><div class="nav-item"><a href="/thanks/" class="nav-link">
  特别感谢
</a></div><div class="nav-item"><a href="https://github.com/users/Giftia/projects/1" target="_blank" rel="noopener noreferrer" class="nav-link external">
  开发计划看板
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/Giftia/ChatDACS" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>部署说明</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/deploy/#⚡️-快速部署-quick-start" class="sidebar-link">⚡️ 快速部署 Quick Start</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/deploy/#宿主机配置" class="sidebar-link">宿主机配置</a></li><li class="sidebar-sub-header"><a href="/deploy/#一些有用的帮助" class="sidebar-link">一些有用的帮助：</a></li></ul></li><li><a href="/deploy/#🐱‍💻-增量更新-incremental-update" class="sidebar-link">🐱‍💻 增量更新 Incremental Update</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/deploy/#🐋-使用-docker-部署-deploy-with-docker" class="sidebar-link">🐋 使用 Docker 部署 Deploy With Docker</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/deploy/#🆕-尝试最新测试版-try-latest-beta-version" class="sidebar-link">🆕 尝试最新测试版 Try Latest Beta Version</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/deploy/#🛠-手动编译-manual-compile" class="sidebar-link">🛠 手动编译 Manual Compile</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/deploy/#手动编译流程需要一定的编码和-debug-基础-不建议新手操作" class="sidebar-link">手动编译流程需要一定的编码和 debug 基础，不建议新手操作</a></li></ul></li><li><a href="/deploy/#🧐-一问一答-q-a" class="sidebar-link">🧐 一问一答 Q&amp;A</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="部署说明"><a href="#部署说明" class="header-anchor">#</a> 部署说明</h1> <h2 id="⚡️-快速部署-quick-start"><a href="#⚡️-快速部署-quick-start" class="header-anchor">#</a> ⚡️ 快速部署 Quick Start</h2> <p>来试试小夜的一键运行包吧，无需任何配置，一键运行，一分钟运行一个属于自己的小夜，好耶！</p> <ol><li><p>首先点击进入 <a href="https://github.com/Giftia/ChatDACS/releases/latest" target="_blank" rel="noopener noreferrer">小夜的最新发行包页面<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>在页面下方的资产 <code>Assets</code> 里点击下载适合您系统的压缩包 <code>ChatDACS-vX.X.X_系统.zip</code></p></li></ol> <img src="/static/run-step1.jpg" alt="步骤1"> <ol start="3"><li>解压 <code>ChatDACS-vX.X.X_系统.zip</code> 压缩包，注意文件路径不得存在非 ASCII 字符</li></ol> <img src="/static/run-step2.jpg" alt="步骤2"> <ol start="4"><li>直接运行文件夹里的 <code>chatdacs.exe</code> 就可以辣。运行后将会弹出两个窗口，一个是小夜后台窗口，一个是 QQ 登陆窗口，两个都不可关闭，关闭会导致小夜失联。按 qq 登陆窗口提示用 QQ 扫描二维码即可登陆 QQ。若提示需要滑条验证码，请按提示操作进行验证操作。</li></ol> <img src="/static/run-step3.jpg" alt="步骤3"> <p>部署完成后请依个人喜好，酌量修改小夜配置文件 <code>/config/config.yaml</code> 。如果在部署过程中有任何问题的话，请进 QQ 群 <code>157311946</code> 来提问吧，有问必答噢。</p> <h3 id="宿主机配置"><a href="#宿主机配置" class="header-anchor">#</a> 宿主机配置</h3> <p>由于使用了 <code>Node.js</code> 编写，小夜可以运行在大部分常见平台上。</p> <p>小夜的食量很小，资源占用量很省，各种云服务商提供的低配学生服务器便足矣，如果想用树莓派的话也很极客不是吗！</p> <p>在 Windows 系统下，装载了完整插件的小夜在启动瞬间会占用 <code>~350MB</code> 内存，随后内存数据逐渐会进入硬盘交换区，最终会占用 <code>~30MB</code> 的物理内存。</p> <p>在 Linux 系统下，装载了完整插件的小夜在启动瞬间会占用 <code>~300MB</code> 内存，随后内存数据逐渐会进入硬盘交换区，最终会占用 <code>~10MB</code> 的物理内存。Docker 环境同理。</p> <p>如果你不想让小夜占用太多服务器资源，你可以通过删减插件来调整内存资源的使用量。</p> <p>可以在右下角托盘栏双击小夜头像查看小夜当前的资源占用情况。</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token punctuation">-</span> 最低的宿主机配置如下： <span class="token comment"># 大概是树莓派的配置</span>
  <span class="token punctuation">-</span> 1核 CPU <span class="token comment"># 启动时会有点卡</span>
  <span class="token punctuation">-</span> 512MB 内存 <span class="token comment"># 消息处理时会有点卡</span>
  <span class="token punctuation">-</span> 10G 硬盘 <span class="token comment"># 本地缓存会有点挤</span>
  <span class="token punctuation">-</span> 1Mbps 带宽 <span class="token comment"># 发送图片和音频会有点慢</span>
</code></pre></div><div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token punctuation">-</span> 推荐的宿主机配置如下：  <span class="token comment"># 大概是比较良心的学生服务器的配置，一年 ~100元</span>
  <span class="token punctuation">-</span> 2核 CPU
  <span class="token punctuation">-</span> 2G 内存
  <span class="token punctuation">-</span> 50G 硬盘
  <span class="token punctuation">-</span> 4Mbps 上下行均衡带宽
</code></pre></div><div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token punctuation">-</span> 小夜的宿主机配置如下：  <span class="token comment"># 大概是比较贵的服务器的配置（其实是我的工位电脑</span>
  <span class="token punctuation">-</span> 12核 CPU
  <span class="token punctuation">-</span> 16G 内存
  <span class="token punctuation">-</span> 500G 硬盘
  <span class="token punctuation">-</span> 10Mbps 上下行均衡带宽
</code></pre></div><h3 id="一些有用的帮助"><a href="#一些有用的帮助" class="header-anchor">#</a> 一些有用的帮助：</h3> <div class="custom-block tip"><p class="custom-block-title">可选项</p> <p>小夜是无需手动配置，开箱即用的，但是由于使用了一些第三方收费接口， <code>随机昵称、赛博百科问答、随机买家秀、微信息知频道消息推送</code> 功能是默认不启用的。若想使用小夜更完整的功能，请自行访问以下申请地址，申请自己的接口密钥后，修改 <code>config</code> 文件夹内的 <code>config.yml</code> 文件中的对应配置项：</p> <ul><li>天行接口，用于 <a href="https://www.tianapi.com/apiview/36" target="_blank" rel="noopener noreferrer">随机昵称<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>、<a href="https://www.tianapi.com/apiview/31" target="_blank" rel="noopener noreferrer">赛博百科问答<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 功能 → <a href="https://www.tianapi.com/" target="_blank" rel="noopener noreferrer">申请地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>卡特实验室接口，用于 <a href="https://api.sumt.cn/docs-rand.tbimg.html" target="_blank" rel="noopener noreferrer">随机买家秀<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 功能 → <a href="https://api.sumt.cn/" target="_blank" rel="noopener noreferrer">申请地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>息知频道 key，用于 微信息知频道消息推送 功能 → <a href="https://xz.qqoq.net/" target="_blank" rel="noopener noreferrer">申请地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <div class="custom-block tip"><p class="custom-block-title">提示</p> <ol><li><p>小夜一键运行包目前支持 <code>Windows 64位</code> 、 <code>Linux 64位</code> 系统，如果您的系统不支持一键运行包，请呼叫开发组申请增加对应系统平台的一键运行包，或移步下方 手动编译 章节查看如何进行自行编译。</p></li> <li><p>本项目使用了 <code>ffmpeg</code> 依赖，用于 <code>go-cqhttp</code> 的语音格式转码，为了减小发行包体积，发行包内并没有内置 <code>ffmpeg</code>。故请自行下载 <code>ffmpeg.exe</code> 并放置于 <code>/plugins/go-cqhttp/</code> 文件夹下。下载地址：<a href="https://giftia.lanzouf.com/ir05s05q67bg" target="_blank" rel="noopener noreferrer">https://giftia.lanzouf.com/ir05s05q67bg<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，若链接失效，请移步QQ群 <code>157311946</code> 群共享自取。如果您不需要 QQ 端发送语音，可以无视本步骤。</p></li> <li><p>建议使用注册时间久一些的 QQ 号作为小夜号登陆使用，不容易被封号。因为新号很容易因为疼讯检测到的突然频繁发言而被风控。</p></li> <li><p>如果想要切换小夜使用的 QQ 账号，请先关闭两个程序窗口，进入 <code>plugins</code> 文件夹里的 <code>go-cqhttp</code> 文件夹，删除 <code>device.json</code> 和 <code>session.token</code> 这两个文件，随后启动 <code>chatdacs.exe</code> 即可重新扫码登陆。</p></li> <li><p>若想跳过 QQ 扫码登陆，保持 QQ 持久化登录，请先关闭两个程序窗口，请进入 <code>plugins</code> 文件夹里的 <code>go-cqhttp</code> 文件夹，修改第 4、5 行的 uin 和 password 为 QQ 账号和密码，以后的启动都会保持 QQ 登陆。</p></li> <li><p>若不想使用某些插件功能，如色图功能，请直接删除 <code>plugins</code> 文件夹里的对应插件，并重启小夜。也可以把插件的文件后缀名 <code>.js</code> 改为别的。</p></li> <li><p>如果在启动过程中无限检查更新报错 <code>Error: unable to verify the first certificate</code> ，请检查是否开启了代理软件，如 <code>steam++</code> ，由于证书校验的原因，需要关闭代理软件，小夜才可以检查更新。</p></li> <li><p>请避免在程序界面的窗口中点击或者拖动，否则会由于触发Windows命令行窗口的快速编辑选择文字操作，导致程序时停。小夜会在首次启动时关闭系统的快速编辑，但首次启动的本体由于启动时还未关闭快速编辑，所以此时时停还是会触发。后续小夜的启动不再会触发快速编辑。</p></li> <li><p>如果观察到程序左上角出现了 <code>选择</code> 字样，说明已经进入了不可避免的 <s><code>The World!</code></s> 时停，在时停期间的所有请求都会阻塞，请在窗口内 <code>黑色背景区域</code> 右键一下以退出时停，才可以继续运行。如果程序时停过长，解除时停后会将所有时停期间的消息进行瞬间处理，有可能会导致处理量过大导致小夜猛烈响应输出。这种时候建议别解除时停了，直接重开，右上角 X 掉，重新启动。</p></li></ol></div> <h2 id="🐱‍💻-增量更新-incremental-update"><a href="#🐱‍💻-增量更新-incremental-update" class="header-anchor">#</a> 🐱‍💻 增量更新 Incremental Update</h2> <p><code>Update-Package</code> 是适用于前一版本的增量更新包，解压后将内容物直接放入前一版本的文件夹，全部替换即可完成增量更新。</p> <ol><li><p>首先点击进入 <a href="https://github.com/Giftia/ChatDACS/releases/latest" target="_blank" rel="noopener noreferrer">小夜的最新发行包页面<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>在页面下方的资产 <code>Assets</code> 里点击下载增量更新包 <code>ChatDACS-vX.X.X_Update-Package.zip</code></p></li> <li><p>解压增量更新包，将内容物全部放入前一版本的文件夹，全部替换即可。</p></li> <li><p>启动 <code>chatdacs.exe</code> ，即可完成增量更新。数据库更新会在程序启动时自动应用。</p></li></ol> <h2 id="🐋-使用-docker-部署-deploy-with-docker"><a href="#🐋-使用-docker-部署-deploy-with-docker" class="header-anchor">#</a> 🐋 使用 Docker 部署 Deploy With Docker</h2> <p>对于一键运行包不适配的系统，小夜也可以使用 Docker 部署！<s>群晖用户大喜</s></p> <p>小夜的 Docker 镜像地址是：<a href="https://hub.docker.com/repository/docker/giftina/chatdacs" target="_blank" rel="noopener noreferrer">https://hub.docker.com/repository/docker/giftina/chatdacs<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>对于没有自带 Docker 的平台，请参考网上教程安装合适的 <a href="https://docs.docker.com/get-docker/" target="_blank" rel="noopener noreferrer">Docker<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <h2 id="🆕-尝试最新测试版-try-latest-beta-version"><a href="#🆕-尝试最新测试版-try-latest-beta-version" class="header-anchor">#</a> 🆕 尝试最新测试版 Try Latest Beta Version</h2> <p>最新测试版一般都会 <code>修复上个版本的问题</code>、<code>增加一些新功能</code> ，会在完善稳定之后发布为下个版本。如果你对小夜最新的一键运行包不满意的话，那就请试试看最新测试版吧：</p> <ol><li><p>首先点击进入小夜的自动构建 → <a href="https://github.com/Giftia/ChatDACS/actions/workflows/build.yml" target="_blank"><img alt="Workflow" src="https://img.shields.io/github/workflow/status/Giftia/ChatDACS/Build%20ChatDACS%20One-Click-To-Deploy%20Package%20(ChatDACS%E4%B8%80%E9%94%AE%E8%BF%90%E8%A1%8C%E5%8C%85%E6%9E%84%E5%BB%BA)?label=%E8%87%AA%E5%8A%A8%E6%9E%84%E5%BB%BA&amp;logo=node.js&amp;style=for-the-badge"></a></p></li> <li><p>点击最新成功构建的一键运行包工作流 <code>Build ChatDACS One-Click-To-Deploy Package</code></p></li> <li><p>在页面下方的制品 <code>Artifacts</code> 里点击下载自动构建好的 <code>ChatDACS</code> 压缩包</p></li> <li><p>解压 <code>ChatDACS</code> 压缩包，直接运行 <code>chatdacs.exe</code> 就可以启动测试版小夜辣</p></li></ol> <h2 id="🛠-手动编译-manual-compile"><a href="#🛠-手动编译-manual-compile" class="header-anchor">#</a> 🛠 手动编译 Manual Compile</h2> <h3 id="手动编译流程需要一定的编码和-debug-基础-不建议新手操作"><a href="#手动编译流程需要一定的编码和-debug-基础-不建议新手操作" class="header-anchor">#</a> 手动编译流程需要一定的编码和 debug 基础，不建议新手操作</h3> <p>如果小夜的一键运行包已经失效，维护者已经失踪，</p> <p>如果小夜的自动构建 <a href="https://github.com/Giftia/ChatDACS/actions/workflows/build.yml" target="_blank"><img alt="Workflow" src="https://img.shields.io/github/workflow/status/Giftia/ChatDACS/Build%20ChatDACS%20One-Click-To-Deploy%20Package%20(ChatDACS%E4%B8%80%E9%94%AE%E8%BF%90%E8%A1%8C%E5%8C%85%E6%9E%84%E5%BB%BA)?label=%E8%87%AA%E5%8A%A8%E6%9E%84%E5%BB%BA&amp;logo=node.js&amp;style=for-the-badge"></a> 年久失修，一直失败，没有更新，</p> <p>或是您的操作系统或 CPU 架构并不是常见的 <code>Windows 64位</code> 、 <code>Ubuntu 64位</code> 等等，</p> <p>或者是在快速启动、部署过程出现了无法解决的错误，</p> <p>亦或者您是想要了解小夜背后的 <code>Node.js</code> 与 <code>一系列构建流程</code> 是如何构建出小夜的，</p> <p>没有问题，请按如下操作进行手动编译操作：</p> <ol><li><p>首先去 <a href="https://nodejs.org/zh-cn/about/releases/" target="_blank" rel="noopener noreferrer">https://nodejs.org/zh-cn/about/releases/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 下载对应你系统的 Node.js <code>v14 长期维护版</code> ，在安装过程中请注意勾选 <code>Automatically install the necessary tools. Note that this will also install Chocolatey.</code> 以便自动安装一些必要的工具和编译链。具体安装方法请参考网上教程</p></li> <li><p>然后下载小夜最新代码的压缩包 <a href="https://github.com/Giftia/ChatDACS/archive/refs/heads/master.zip" target="_blank" rel="noopener noreferrer">https://github.com/Giftia/ChatDACS/archive/refs/heads/master.zip<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ，解压之</p></li> <li><p>打开系统的 <code>shell</code> ，也就是泛指的 <code>命令行</code> ，如 <code>CMD(dos)</code>、<code>PowerShell(win)</code>、<code>Bash(linux)</code>、<code>iTerm2(mac)</code> 等，用 <code>cd</code> 命令<strong>进入小夜代码根目录</strong>后，运行：</p></li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> -g cnpm --registry<span class="token operator">=</span>https://registry.npm.taobao.org
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">提示</p> <p>该步骤目的是安装 <code>cnpm</code> ，用于安装依赖组件。<code>cnpm</code> 是淘宝的 <code>npm</code> 镜像源，用于在中国大陆加速安装依赖的速度和成功率。</p></div> <ol start="4"><li>等待进度完成后运行：</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>cnpm ci
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">提示</p> <p>该步骤会安装小夜的依赖组件。对比网上教程常用的 <code>npm i</code> ，<code>cnpm ci</code> 的效率和安装成功率更高。</p></div> <ol start="5"><li>等待进度完成后运行小夜：</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">node</span> index.js
</code></pre></div><p>好了，小夜应该已经启动了 🎉。确认小夜运行无误后，是时候该生成适合您的系统的可执行文件了，<strong>进入小夜代码根目录</strong>后使用手动打包指令：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>cnpm <span class="token function">install</span> pkg -g
cnpm run pkg
</code></pre></div><h2 id="🧐-一问一答-q-a"><a href="#🧐-一问一答-q-a" class="header-anchor">#</a> 🧐 一问一答 Q&amp;A</h2> <p>::: tips
Q: 在拉取代码后如何运行？</p> <p>A: 在控制台输入 node . 并回车运行
:::</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/Giftia/ChatDACS-docs/edit/main/docs/deploy/README.md" target="_blank" rel="noopener noreferrer">帮助我们完善此页面</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">最后更新:</span> <span class="time">2025/5/28 11:27:26</span></div></footer> <!----> </main></div><div class="global-ui"><!----><!----><Live2d></Live2d></div></div>
    <script src="/assets/js/app.2dfdd553.js" defer></script><script src="/assets/js/2.20dc188e.js" defer></script><script src="/assets/js/11.e3b9eb81.js" defer></script><script src="/assets/js/3.1a8f7b58.js" defer></script>
  </body>
</html>
